{"isNamespace":true,"desc":"Model类","alias":"Model","id":1071,"methods":[{"desc":"继承","alias":"Model.extend","id":1082,"isStatic":true,"memberOf":"Model","isa":"FUNCTION","_name":"extend","_params":[{"title":"param","desc":"方法对象","type":"Object","name":"props"},{"title":"param","desc":"继承类的构造方法","type":"Function","name":"ctor"}]},{"type":"XHR","desc":"Model调用request方法后，与服务器同步的方法，供应用开发人员覆盖","alias":"Model#sync","id":1085,"memberOf":"Model","returns":[{"title":"return","desc":"最好返回异步请求的对象","type":"XHR"}],"isa":"FUNCTION","_name":"sync","_params":[{"title":"param","desc":"请求完成后的回调，回调时第1个参数是数据，第2个是错误对象","type":"Function","name":"callback"}]},{"type":"Object","desc":"处理Model.sync成功后返回的数据","alias":"Model#parse","id":1086,"memberOf":"Model","returns":[{"title":"return","type":"Object"}],"isa":"FUNCTION","_name":"parse","_params":[{"title":"param","desc":"返回的数据","type":"Object|String","name":"resp"}]},{"type":"String","desc":"获取通过setPostParams放入的参数","alias":"Model#getPostParams","id":1087,"memberOf":"Model","returns":[{"title":"return","type":"String"}],"isa":"FUNCTION","_name":"getPostParams"},{"type":"String","desc":"获取通过setUrlParams放入的参数","alias":"Model#getUrlParams","id":1088,"memberOf":"Model","returns":[{"title":"return","type":"String"}],"isa":"FUNCTION","_name":"getUrlParams"},{"type":"String","desc":"获取参数","alias":"Model#getParams","id":1089,"memberOf":"Model","returns":[{"title":"return","type":"String"}],"isa":"FUNCTION","_name":"getParams","_params":[{"title":"param","desc":"参数分组的key[Model.GET,Model.POST]，默认为Model.GET","type":"String","name":"type","isOptional":true}]},{"desc":"设置url参数，只有未设置过的参数才进行设置","alias":"Model#setUrlParamsIf","id":1099,"memberOf":"Model","isa":"FUNCTION","_name":"setUrlParamsIf","_params":[{"title":"param","desc":"参数对象或者参数key","type":"Object|String","name":"obj1"},{"title":"param","desc":"参数内容","type":"String","name":"obj2","isOptional":true}]},{"desc":"设置post参数，只有未设置过的参数才进行设置","alias":"Model#setPostParamsIf","id":1100,"memberOf":"Model","isa":"FUNCTION","_name":"setPostParamsIf","_params":[{"title":"param","desc":"参数对象或者参数key","type":"Object|String","name":"obj1"},{"title":"param","desc":"参数内容","type":"String","name":"obj2","isOptional":true}]},{"desc":"设置参数","alias":"Model#setParams","id":1102,"memberOf":"Model","isa":"FUNCTION","_name":"setParams","_params":[{"title":"param","desc":"参数对象或者参数key","type":"Object|String","name":"obj1"},{"title":"param","desc":"参数内容","type":"String","name":"obj2","isOptional":true},{"title":"param","desc":"参数分组的key","type":"String","name":"type"},{"title":"param","desc":"如果存在同名的参数则不覆盖，忽略掉这次传递的参数","type":"Boolean","name":"ignoreIfExist"},{"title":"param","desc":"对每一项参数设置时的回调","type":"Function","name":"callback"}]},{"desc":"设置post参数","alias":"Model#setPostParams","id":1108,"memberOf":"Model","isa":"FUNCTION","_name":"setPostParams","_params":[{"title":"param","desc":"参数对象或者参数key","type":"Object|String","name":"obj1"},{"title":"param","desc":"参数内容","type":"String","name":"obj2","isOptional":true}]},{"desc":"设置url参数","alias":"Model#setUrlParams","id":1110,"memberOf":"Model","isa":"FUNCTION","_name":"setUrlParams","_params":[{"title":"param","desc":"参数对象或者参数key","type":"Object|String","name":"obj1"},{"title":"param","desc":"参数内容","type":"String","name":"obj2","isOptional":true}]},{"desc":"重置缓存的参数对象，对于同一个model反复使用前，最好能reset一下，防止把上次请求的参数也带上","alias":"Model#reset","id":1111,"memberOf":"Model","isa":"FUNCTION","_name":"reset"},{"type":"String","desc":"获取model对象请求时的后台地址","alias":"Model#url","id":1117,"memberOf":"Model","returns":[{"title":"return","type":"String"}],"isa":"FUNCTION","_name":"url","_params":[{"title":"param","name":"uri"}]},{"type":"Object","desc":"获取属性","alias":"Model#get","id":1129,"memberOf":"Model","returns":[{"title":"return","type":"Object"}],"isa":"FUNCTION","_name":"get","_params":[{"title":"param","desc":"type","type":"String","name":"type"}]},{"desc":"设置属性","alias":"Model#set","id":1134,"memberOf":"Model","isa":"FUNCTION","_name":"set","_params":[{"title":"param","desc":"属性对象或属性key","type":"String|Object","name":"key"},{"title":"param","desc":"属性值","type":"Object","name":"val","isOptional":true},{"title":"param","name":"saveKeyList"}]},{"desc":"向服务器请求，加载或保存数据","alias":"Model#request","id":1139,"memberOf":"Model","isa":"FUNCTION","_name":"request","_params":[{"title":"param","desc":"请求成功或失败的回调","type":"Function","name":"callback"},{"title":"param","name":"options"}]},{"desc":"中止请求","alias":"Model#abort","id":1153,"memberOf":"Model","isa":"FUNCTION","_name":"abort"},{"type":"Boolean","desc":"获取当前model是否已经取消了请求","alias":"Model#isAborted","id":1156,"memberOf":"Model","returns":[{"title":"return","type":"Boolean"}],"isa":"FUNCTION","_name":"isAborted"},{"desc":"回滚对model数据做的更改","alias":"Model#rollbackTransaction","id":1158,"memberOf":"Model","isa":"FUNCTION","_name":"rollbackTransaction"},{"desc":"结束事务","alias":"Model#endTransaction","id":1162,"memberOf":"Model","isa":"FUNCTION","_name":"endTransaction"}],"isa":"CONSTRUCTOR","_name":"Model","_params":[{"title":"param","desc":"初始化Model时传递的其它参数对象","type":"Object","name":"ops"}],"properties":[{"type":"String","desc":"model唯一标识","alias":"Model#id","id":1072,"memberOf":"Model","isa":"OBJECT","_name":"id"},{"type":"Boolean","desc":"在与ModelManager配合使用时，标识当前model对象是不是从缓存中来","alias":"Model#fromCache","id":1073,"memberOf":"Model","isa":"OBJECT","_name":"fromCache"},{"desc":"GET枚举","alias":"Model.GET","id":1080,"isStatic":true,"memberOf":"Model","isa":"OBJECT","_name":"GET"},{"desc":"POST枚举","alias":"Model.POST","id":1081,"isStatic":true,"memberOf":"Model","isa":"OBJECT","_name":"POST"},{"desc":"url映射对象","alias":"Model#urlMap","id":1084,"memberOf":"Model","isa":"OBJECT","_name":"urlMap"},{"desc":"开始事务","alias":"Model#beginTransaction","id":1157,"memberOf":"Model","isa":"OBJECT","_name":"beginTransaction","example":[{"title":"example","desc":"//...\rvar userList=m.get('userList');//从model中取出userList数据\rm.beginTransaction();//开始更改的事务\ruserList.push({userId:'58782',userName:'xinglie.lkf'});//添加一个新用户\rm.save({\r    //...\r    success:function(){\r          m.endTransaction();//成功后通知model结束事务\r    },\r    error:function(){\r        m.rollbackTransaction();//出错，回滚到原始数据状态\r    }\r});\r//应用场景：\r//前端获取用户列表，添加，删除或修改用户后\r//把新的数据提交到数据库，因model是数据的载体\r//可能会直接在model原有的数据上修改，提交修改后的数据\r//如果前端提交到服务器，发生失败时，需要把\r//model中的数据还原到修改前的状态(当然也可以再次提交)\r//\r//注意：\r//可能添加，删除不太容易应用这个方法，修改没问题\r//"}]}]}